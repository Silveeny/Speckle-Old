(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b142b2b"],{"2b7f":function(e,t,r){},"37d6":function(e,t,r){},"7e67":function(e,t,r){"use strict";var s=r("37d6"),i=r.n(s);i.a},acca:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"grid-list-xl":""}},[e.selectedProjects.length>0?r("v-toolbar",{staticStyle:{"z-index":"100"},attrs:{fixed:""}},[r("v-toolbar-items",[r("v-btn",{staticClass:"md-raised md-dense md-primary",attrs:{icon:"",color:"primary"},nativeOn:{click:function(t){return e.clearSelection(t)}}},[r("v-icon",[e._v("close")])],1),r("v-btn",{attrs:{flat:""},nativeOn:{click:function(t){return e.selectAll()}}},[e._v("select all")])],1),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{flat:"",color:"error"},nativeOn:{click:function(t){return e.deleteSelectedProjects(t)}}},[e._v("Archive")])],1)],1):e._e(),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"headline font-weight-light",attrs:{xs12:"","py-5":""}},[e._v("\n      Projects allow you to share streams with a team.\n    ")]),0===e.projects.length?r("v-flex",{attrs:{xs12:""}},[r("p",{staticClass:"title font-weight-light"},[e._v("Hmm, you don't have any projects yet. Don't worry! You can create a new one here (big blue button in the lower right corner)!\n      ")])]):e._e(),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{solo:"",clearable:"",label:"Search for a project","prepend-inner-icon":"search",spellcheck:"false",loading:e.isSearching,"append-icon":"refresh"},on:{input:e.updateSearch,"click:append":function(t){return e.$store.dispatch("getProjects")}},model:{value:e.searchfilter,callback:function(t){e.searchfilter=t},expression:"searchfilter"}}),e.searchfilter&&""!==e.searchfilter?r("div",[r("p",{staticClass:"title font-weight-light my-3 mx-1"},[e._v("Found "+e._s(e.filteredProjects.length)+" project"+e._s(1===e.filteredProjects.length?"":"s")+" matching your search criteria.")])]):e._e()],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{icon:"",small:"",disabled:0===e.pageNumber},nativeOn:{click:function(t){e.pageNumber=0}}},[r("v-icon",[e._v("first_page")])],1),r("v-btn",{attrs:{icon:"",small:"",disabled:0===e.pageNumber},nativeOn:{click:function(t){e.pageNumber-=1}}},[r("v-icon",[e._v("chevron_left")])],1),r("v-btn",{attrs:{icon:"",disabled:e.pageNumber>=Math.round(e.filteredProjects.length/e.sliceSize)},nativeOn:{click:function(t){e.pageNumber+=1}}},[r("v-icon",[e._v("chevron_right")])],1),r("v-btn",{attrs:{icon:"",small:"",disabled:e.pageNumber>=Math.round(e.filteredProjects.length/e.sliceSize)},nativeOn:{click:function(t){e.pageNumber=Math.round(e.filteredProjects.length/e.sliceSize)}}},[r("v-icon",[e._v("last_page")])],1),r("span",{staticClass:"caption",attrs:{xxxstyle:"position: relative;top:8px;"}},[e._v(e._s(e.pageNumber)+" / "+e._s((e.filteredProjects.length/e.sliceSize).toFixed(0)))])],1),e._l(e.paginatedProjects,function(t){return r("v-flex",{key:t._id,attrs:{xs12:"",sm6:""}},[r("project-card",{attrs:{resource:t},on:{selected:e.selectThis,deleted:e.clearSelection}})],1)}),r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{icon:"",small:"",disabled:0===e.pageNumber},nativeOn:{click:function(t){e.pageNumber=0}}},[r("v-icon",[e._v("first_page")])],1),r("v-btn",{attrs:{icon:"",small:"",disabled:0===e.pageNumber},nativeOn:{click:function(t){e.pageNumber-=1}}},[r("v-icon",[e._v("chevron_left")])],1),r("v-btn",{attrs:{icon:"",disabled:e.pageNumber>=Math.round(e.filteredProjects.length/e.sliceSize)},nativeOn:{click:function(t){e.pageNumber+=1}}},[r("v-icon",[e._v("chevron_right")])],1),r("v-btn",{attrs:{icon:"",small:"",disabled:e.pageNumber>=Math.round(e.filteredProjects.length/e.sliceSize)},nativeOn:{click:function(t){e.pageNumber=Math.round(e.filteredProjects.length/e.sliceSize)}}},[r("v-icon",[e._v("last_page")])],1),r("span",{staticClass:"caption",attrs:{xxxstyle:"position: relative;top:8px;"}},[e._v(e._s(e.pageNumber)+" / "+e._s((e.filteredProjects.length/e.sliceSize).toFixed(0)))])],1)],2),r("v-btn",{attrs:{color:"primary",dark:"",fixed:"",large:"",bottom:"",right:"",fab:""},nativeOn:{click:function(t){return e.createProject(t)}}},[r("v-icon",[e._v("add")])],1)],1)},i=[],n=(r("ac6a"),r("20d6"),r("7f7f"),r("6762"),r("2fdb"),r("f7fe")),c=r.n(n),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{class:{"elevation-10":e.selected,"elevation-1":!0}},[r("v-card-title",[r("span",{staticClass:"title font-weight-light"},[e._v(e._s(e.resource.name?e.resource.name:"No Name"))]),r("v-spacer"),r("span"),r("span",[r("v-checkbox",{attrs:{color:"primary"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),r("v-divider",{staticClass:"mx-0 my-0"}),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"caption",attrs:{xs12:"","ma-2":""}},[r("v-icon",{attrs:{small:""}},[e._v("import_export")]),e._v(" "),r("strong",{staticStyle:{"user-select":"all"}},[e._v(e._s(e.project.streams.length))]),e._v(" \n      "),r("v-icon",{attrs:{small:""}},[e._v("person_outline")]),e._v(" "+e._s(e.allUsers.length)+"  \n      "),r("v-icon",{attrs:{small:""}},[e._v("edit")]),e._v(" "),r("timeago",{attrs:{datetime:e.resource.updatedAt}}),e._v(" \n      "),r("v-icon",{attrs:{small:""}},[e._v("access_time")]),e._v("  "+e._s(e.createdAt)+" \n    ")],1),e.resource.tags.length>0?r("v-flex",{attrs:{xs12:"","ma-2":""}},e._l(e.resource.tags,function(t){return r("v-chip",{key:t,attrs:{small:"",outline:""}},[e._v(e._s(t))])}),1):e._e(),r("v-flex",{attrs:{xs12:"","ma-2":""}},[r("div",{staticClass:"md-caption md-small-hide",domProps:{innerHTML:e._s(e.compiledDescription)}})])],1),r("v-card-actions",[r("span",{staticClass:"caption font-weight-light"},[e._v("Owned by "),r("strong",[e._v(e._s(e.owner))])]),r("v-spacer"),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isOwner,expression:"isOwner"}],staticClass:"transparent",attrs:{depressed:""},nativeOn:{click:function(t){return e.archiveProject(t)}}},[e._v("Archive")]),r("v-btn",{attrs:{color:"primary",to:"/projects/"+e.resource._id}},[e._v("Details")])],1)],1)},o=[],l=(r("7514"),r("c36e"),r("13bb")),u=r.n(l),d=r("0e54"),h=r.n(d),p={name:"ProjectCard",props:{resource:Object},watch:{selected:function(){this.$emit("selected",this.project)}},computed:{project:function(){return this.resource},projectTeamMembers:function(){return u()(this.project.canRead,this.project.canWrite)},createdAt:function(){var e=new Date(this.project.createdAt);return e.toLocaleString("en",{year:"numeric",month:"long",day:"numeric"})},compiledDescription:function(){return h()(this.project.description.substring(0,400)+" ...",{sanitize:!0})},canEdit:function(){return!!this.isOwner||-1!==this.project.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.project.owner===this.$store.state.user._id},allUsers:function(){return u()(this.project.canRead,this.project.canWrite)},owner:function(){var e=this,t=this.$store.state.users.find(function(t){return t._id===e.resource.owner});return t||this.$store.dispatch("getUser",{_id:this.resource.owner}),t?t.surname.includes("is you")?"you":"".concat(t.name," ").concat(t.surname):"Loading"}},data:function(){return{selected:!1}},methods:{archiveProject:function(){this.$store.dispatch("updateProject",{_id:this.project._id,deleted:!0})},updateTags:c()(function(e){this.$store.dispatch("updateProject",{_id:this.project._id,tags:this.project.tags})},1e3)},mounted:function(){var e=this;bus.$on("select-project",function(t){t===e.project._id&&(e.selected=!0)}),bus.$on("unselect-all-projects",function(){e.selected=!1})}},v=p,f=(r("7e67"),r("2877")),m=Object(f["a"])(v,a,o,!1,null,"03dd34c0",null);m.options.__file="ProjectCard.vue";var _=m.exports,g={name:"ProjectsView",components:{ProjectCard:_},computed:{projects:function(){return this.$store.state.projects.filter(function(e){return!1===e.deleted})},filteredProjects:function(){var e=this;return this.searchfilter&&""!==this.searchfilter?this.projects.filter(function(t){return t.name.toLowerCase().includes(e.searchfilter.toLowerCase())}):this.projects},paginatedProjects:function(){return this.filteredProjects.slice(this.currentIndex+this.pageNumber*this.sliceSize,this.sliceSize*(this.pageNumber+1))}},data:function(){return{currentIndex:0,sliceSize:6,pageNumber:0,searchfilter:"",selectedProjects:[],isSearching:!1}},methods:{selectThis:function(e){var t=this.selectedProjects.findIndex(function(t){return t._id===e._id});-1===t?this.selectedProjects.unshift(e):this.selectedProjects.splice(t,1)},selectAll:function(){var e=this;this.paginatedProjects.forEach(function(t){var r=e.selectedProjects.findIndex(function(e){return e._id===t._id});-1===r&&bus.$emit("select-project",t._id)})},createProject:function(){var e=this;this.$store.dispatch("createProject",{name:"A brand new speckle project"}).then(function(t){e.$router.push("/projects/".concat(t._id))})},deleteSelectedProjects:function(){var e=this;this.selectedProjects.forEach(function(t){e.$store.dispatch("updateProject",{_id:t._id,deleted:!0})}),this.clearSelection()},clearSelection:function(){bus.$emit("unselect-all-projects")},updateSearch:c()(function(e){this.pageNumber=0,this.isSearching=!1,this.searchfilter=e},1e3)},created:function(){}},b=g,j=(r("fd63"),Object(f["a"])(b,s,i,!1,null,"550a04fe",null));j.options.__file="Projects.vue";t["default"]=j.exports},fd63:function(e,t,r){"use strict";var s=r("2b7f"),i=r.n(s);i.a}}]);
//# sourceMappingURL=chunk-6b142b2b.c9b6f680.js.map