{"version":3,"sources":["webpack:///./src/components/StreamDetailUserPerms.vue?319e","webpack:///./src/views/StreamSharing.vue?e03e","webpack:///src/views/StreamSharing.vue","webpack:///./src/views/StreamSharing.vue?689f","webpack:///./src/views/StreamSharing.vue","webpack:///./src/components/UserSearch.vue?2bf9","webpack:///src/components/UserSearch.vue","webpack:///./src/components/UserSearch.vue?29b2","webpack:///./src/components/UserSearch.vue","webpack:///./src/views/StreamSharing.vue?20e5","webpack:///./src/components/UserSearch.vue?38a5","webpack:///./src/components/PermissionTable.vue?dd64","webpack:///./src/components/StreamDetailUserPerms.vue?db9e","webpack:///./src/components/PermissionTable.vue?b23c","webpack:///src/components/PermissionTable.vue","webpack:///./src/components/PermissionTable.vue?a74e","webpack:///./src/components/PermissionTable.vue","webpack:///src/components/StreamDetailUserPerms.vue","webpack:///./src/components/StreamDetailUserPerms.vue?606f","webpack:///./src/components/StreamDetailUserPerms.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamDetailUserPerms_vue_vue_type_style_index_0_id_93f72e02_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamDetailUserPerms_vue_vue_type_style_index_0_id_93f72e02_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","stream","staticRenderFns","StreamSharingvue_type_script_lang_js_","name","components","StreamDetailUserPerms","computed","_this","$store","state","streams","find","s","streamId","$route","params","canEdit","isOwner","canWrite","indexOf","user","_id","owner","data","methods","views_StreamSharingvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","align-center","row","wrap","staticClass","xs12","box","label","clearable","flat","loading","searchInProgress","prepend-inner-icon","on","input","startSearchUsers","model","value","callback","$$v","userSearch","expression","foundUsers","length","staticStyle","margin-top","_v","_s","_e","max-height","overflow-y","overflow-x","two-line","xxxv-if","_l","key","surname","company","fab","small","depressed","nativeOn","click","$event","selectUser","UserSearchvue_type_script_lang_js_","props","msg","String","watch","newVal","oldVal","userId","$emit","index","findIndex","u","splice","searchUsers","lodash_debounce_default","searchString","axios_default","a","post","then","res","console","log","resources","commit","catch","err","components_UserSearchvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSharing_vue_vue_type_style_index_0_id_1bd4bc5a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSharing_vue_vue_type_style_index_0_id_1bd4bc5a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_174f9bea_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_174f9bea_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTable_vue_vue_type_style_index_0_id_7b4727af_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTable_vue_vue_type_style_index_0_id_7b4727af_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","left","color","disabled","changeLinkSharing","private","streamOwner","streamProjects","proj","to","selected-user","addUserToWrite","resource","disabled-users","usersFromProjects","global-disabled","update-table","updatePerms","PermissionTablevue_type_template_id_7b4727af_scoped_true_render","allUsersPop","grid-list-xl","sm6","lg4","tile","justify-space-between","xs8","size","dark","getHexFromString","substring","toUpperCase","xs4","hasWritePermission","includes","globalDisabled","isDisabled","changePermission","removeUser","PermissionTablevue_type_template_id_7b4727af_scoped_true_staticRenderFns","PermissionTablevue_type_script_lang_js_","type","Boolean","default","disabledUsers","Array","canRead","concat","toConsumableArray","allUsers","lodash_union_default","map","users","dispatch","sort","b","localCanWrite","localCanRead","filter","uId","lodash_uniq_default","mounted","components_PermissionTablevue_type_script_lang_js_","PermissionTable","StreamDetailUserPermsvue_type_script_lang_js_","UserSearch","_Array$prototype","_Array$prototype2","_this2","otherProjects","projects","p","otherCanRead","prototype","apply","op","permissions","otherCanWrite","set_default","_this3","_ref","components_StreamDetailUserPermsvue_type_script_lang_js_","StreamDetailUserPerms_component"],"mappings":"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","file":"js/chunk-27c9975c.05b3e2c9.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=style&index=0&id=93f72e02&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=style&index=0&id=93f72e02&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('stream-detail-user-perms',{attrs:{\"stream\":_vm.stream}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <stream-detail-user-perms :stream='stream'></stream-detail-user-perms>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport union from 'lodash.union'\r\n\r\nimport StreamDetailUserPerms from '../components/StreamDetailUserPerms.vue'\r\n\r\nexport default {\r\n  name: 'StreamEditView',\r\n  components: {\r\n    StreamDetailUserPerms\r\n  },\r\n  computed: {\r\n    stream( ) {\r\n      return this.$store.state.streams.find( s => s.streamId === this.$route.params.streamId )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.stream.owner === this.$store.state.user._id\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamSharing.vue?vue&type=template&id=1bd4bc5a&scoped=true&\"\nimport script from \"./StreamSharing.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamSharing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamSharing.vue?vue&type=style&index=0&id=1bd4bc5a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bd4bc5a\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamSharing.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"align-center\":\"\",\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"pb-0\",attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"box\":\"\",\"label\":\"search for users\",\"clearable\":\"\",\"flat\":\"\",\"loading\":_vm.searchInProgress,\"prepend-inner-icon\":\"search\"},on:{\"input\":_vm.startSearchUsers},model:{value:(_vm.userSearch),callback:function ($$v) {_vm.userSearch=$$v},expression:\"userSearch\"}})],1),(_vm.userSearch!==null && _vm.foundUsers.length > 0)?_c('v-flex',{staticClass:\"mb-5\",staticStyle:{\"margin-top\":\"-30px\"},attrs:{\"xs12\":\"\"}},[_c('v-card',{staticClass:\"elevation-10\"},[(_vm.userSearch)?_c('v-card-title',{staticClass:\"subheading\"},[_vm._v(\"Search results (\"+_vm._s(_vm.foundUsers.length)+\" users)\")]):_vm._e(),_c('v-divider'),(_vm.foundUsers.length>0)?_c('v-card-text',{staticStyle:{\"max-height\":\"410px\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[_c('v-list',{attrs:{\"two-line\":\"\",\"xxxv-if\":\"filters.length > 0\"}},_vm._l((_vm.foundUsers),function(user){return _c('v-list-tile',{key:user._id},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                \"+_vm._s(user.name)+\" \"+_vm._s(user.surname)+\"\\n              \")]),_c('v-list-tile-sub-title',{staticClass:\"caption\"},[_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(user.company))])])],1),_c('v-list-tile-action',[_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"depressed\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectUser(user._id)}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)],1)}),1)],1):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-layout align-center row wrap>\r\n    <v-flex xs12 class='pb-0'>\r\n      <v-text-field box label='search for users' clearable v-model='userSearch' flat :loading='searchInProgress' prepend-inner-icon=\"search\" @input='startSearchUsers'></v-text-field>\r\n    </v-flex>\r\n    <v-flex xs12 style='margin-top:-30px' class='mb-5' v-if='userSearch!==null && foundUsers.length > 0'>\r\n      <v-card class='elevation-10'>\r\n        <v-card-title class='subheading' v-if='userSearch'>Search results ({{foundUsers.length}} users)</v-card-title>\r\n        <v-divider></v-divider>\r\n        <v-card-text style='max-height: 410px; overflow-y: auto; overflow-x: hidden;' v-if='foundUsers.length>0'>\r\n          <v-list two-line xxxv-if='filters.length > 0'>\r\n            <v-list-tile v-for='user in foundUsers' :key='user._id'>\r\n              <v-list-tile-content>\r\n                <v-list-tile-title>\r\n                  {{user.name}} {{user.surname}}\r\n                </v-list-tile-title>\r\n                <v-list-tile-sub-title class='caption'>\r\n                  <span class='caption'>{{user.company}}</span>\r\n                </v-list-tile-sub-title>\r\n              </v-list-tile-content>\r\n              <v-list-tile-action>\r\n                <v-btn fab small depressed @click.native='selectUser(user._id)'>\r\n                  <v-icon>add</v-icon>\r\n                </v-btn>\r\n              </v-list-tile-action>\r\n            </v-list-tile>\r\n          </v-list>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport Axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserSearch',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data( ) {\r\n    return {\r\n      userSearch: '',\r\n      foundUsers: [ ],\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  watch: {\r\n    userSearch( newVal, oldVal ) {\r\n      if ( newVal === '' ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectUser( userId ) {\r\n      this.$emit( 'selected-user', userId )\r\n      let index = this.foundUsers.findIndex( u => u._id === userId )\r\n      this.foundUsers.splice( index, 1 )\r\n    },\r\n    startSearchUsers( ) {\r\n      this.searchInProgress = true\r\n      this.searchUsers( this.userSearch )\r\n    },\r\n    searchUsers: debounce( function( searchString ) {\r\n      if ( searchString === '' || searchString === null ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n        return\r\n      }\r\n      if ( searchString.length < 3 ) {\r\n        // TODO: Show an error\r\n        return\r\n      }\r\n      Axios.post( '/accounts/search', { searchString: searchString } )\r\n        .then( res => {\r\n          console.log( res )\r\n          this.foundUsers = res.data.resources\r\n          // build up a db of users\r\n          if ( res.data.resources.length > 0 )\r\n            this.$store.commit( 'ADD_USERS', res.data.resources )\r\n          this.searchInProgress = false\r\n        } )\r\n        .catch( err => {\r\n          this.foundUsers = [ ]\r\n          this.searchInProgress = false\r\n        } )\r\n    }, 1500 )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.hovered {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSearch.vue?vue&type=template&id=174f9bea&scoped=true&\"\nimport script from \"./UserSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSearch.vue?vue&type=style&index=0&id=174f9bea&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"174f9bea\",\n  null\n  \n)\n\ncomponent.options.__file = \"UserSearch.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=style&index=0&id=1bd4bc5a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=style&index=0&id=1bd4bc5a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=174f9bea&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=174f9bea&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=style&index=0&id=7b4727af&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=style&index=0&id=7b4727af&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"elevation-0\"},[_c('v-toolbar',{staticClass:\"elevation-0 transparent\"},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"share\")]),_vm._v(\" \\n    \"),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"Link Sharing\")]),_vm._v(\"  \\n  \")],1),_c('v-divider'),_c('v-card-text',{staticClass:\"mx-2\"},[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"primary\",\"disabled\":!_vm.canEdit},nativeOn:{\"click\":function($event){return _vm.changeLinkSharing($event)}}},[_vm._v(_vm._s(_vm.stream.private ? \"OFF\" : \"ON\"))]),_vm._v(\"\\n    \"+_vm._s(_vm.stream.private ? \"Private resource. Only people with read or write persmissions can access it.\" : \"Public resource. Anyone with the id can access it.\")+\"\\n    \"),(_vm.isOwner)?_c('span',{},[_vm._v(\"\\n      You are the \"),_c('strong',[_vm._v(\"owner\")]),_vm._v(\" of this stream.\\n    \")]):_c('span',{},[_vm._v(\"\\n      This stream was shared with you by \"),_c('strong',[_vm._v(_vm._s(_vm.streamOwner)+\".\")])])],1),_c('v-toolbar',{staticClass:\"elevation-0 transparent title font-weight-light\"},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"supervisor_account\")]),_vm._v(\" \\n    \"),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"User Permissions\")]),_vm._v(\"  \\n  \")],1),(_vm.streamProjects.length>0)?_c('v-card-text',{staticClass:\"mx-2\"},[_c('span',[_vm._v(\"Some users might be disabled as their permissions are set through the following projects: \"),_vm._l((_vm.streamProjects),function(proj,index){return _c('router-link',{key:proj._id,attrs:{\"to\":\"/projects/\"+proj._id}},[_vm._v(_vm._s(proj.name)),(index<_vm.streamProjects.length-1)?_c('span',[_vm._v(\", \")]):_vm._e()])})],2)]):_vm._e(),(!_vm.canEdit)?_c('v-card-text',{staticClass:\"mx-2\"},[_vm._v(\"\\n    You cannot edit the permissions of this stream.\\n  \")]):_vm._e(),_c('v-divider'),(_vm.canEdit)?_c('v-card-text',{},[_c('user-search',{on:{\"selected-user\":_vm.addUserToWrite}}),_c('permission-table',{attrs:{\"resource\":_vm.stream,\"disabled-users\":_vm.usersFromProjects,\"global-disabled\":!_vm.canEdit},on:{\"update-table\":_vm.updatePerms}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.allUsersPop.length > 0)?_c('v-container',{staticClass:\"pa-0 ma-0\",attrs:{\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.allUsersPop),function(user){return (user)?_c('v-flex',{key:user._id,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"lg4\":\"\"}},[_c('v-card',{staticClass:\"pa-3 elevation-1\",attrs:{\"tile\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-avatar',{attrs:{\"size\":\"21\",\"dark\":\"\",\"color\":_vm.getHexFromString( user.name )}},[_vm._v(\"\\n              \"+_vm._s(user.name.substring(0,1).toUpperCase())+\"\\n            \")]),_vm._v(\" \\n            \"),_c('span',[_vm._v(_vm._s(user.name)+\" \"+_vm._s(user.surname))]),_vm._v(\" \\n            \"),_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(user.company))])],1),_c('v-flex',{staticClass:\"text-xs-right\",attrs:{\"xs4\":\"\"}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":_vm.hasWritePermission(user._id)?\"primary\":\"\",\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.isDisabled(user._id)},nativeOn:{\"click\":function($event){return _vm.changePermission(user._id)}}},[_vm._v(_vm._s(_vm.hasWritePermission(user._id) ? \"write\" : \"read\"))]),_c('v-btn',{attrs:{\"depressed\":\"\",\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.isDisabled(user._id)},nativeOn:{\"click\":function($event){return _vm.removeUser(user._id)}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1)],1)],1):_vm._e()}),1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container grid-list-xl v-if='allUsersPop.length > 0' class='pa-0 ma-0'>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 sm6 lg4 v-for='user in allUsersPop' v-if='user' :key='user._id'>\r\n        <v-card tile class='pa-3 elevation-1'>\r\n          <v-layout row wrap align-center justify-space-between>\r\n            <v-flex xs8>\r\n              <v-avatar size='21' dark :color=\"getHexFromString( user.name )\">\r\n                {{user.name.substring(0,1).toUpperCase()}}\r\n              </v-avatar>&nbsp;\r\n              <span>{{user.name}} {{user.surname}}</span>&nbsp;\r\n              <span class='caption'>{{user.company}}</span>\r\n            </v-flex>\r\n            <v-flex xs4 class='text-xs-right'>\r\n              <v-btn depressed :color='hasWritePermission(user._id)?\"primary\":\"\"' @click.native='changePermission(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || isDisabled(user._id)'>{{hasWritePermission(user._id) ? \"write\" : \"read\"}}</v-btn>\r\n              <v-btn depressed @click.native='removeUser(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || isDisabled(user._id)'>\r\n                <v-icon>close</v-icon>\r\n              </v-btn>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport uniq from 'lodash.uniq'\r\n\r\nexport default {\r\n  name: 'PermissionTable',\r\n  props: {\r\n    resource: Object,\r\n    globalDisabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabledUsers: {\r\n      type: Array,\r\n      default: ( ) => [ ]\r\n    }\r\n  },\r\n  computed: {\r\n    canRead( ) { return [ ...this.resource.canRead, this.resource.owner ] },\r\n    canWrite( ) { return [ ...this.resource.canWrite, , this.resource.owner ] },\r\n    allUsers( ) {\r\n      return union( this.canRead, this.canWrite, [ this.resource.owner ] )\r\n    },\r\n    allUsersPop( ) {\r\n      if ( this.allUsers.length === 0 ) return [ ]\r\n      return this.allUsers.map( userId => {\r\n        if ( !userId ) {} else {\r\n          let u = this.$store.state.users.find( user => user._id === userId )\r\n          if ( !u ) this.$store.dispatch( 'getUser', { _id: userId } )\r\n          if ( u ) u.isOwner = u._id === this.resource.owner\r\n          return u\r\n        }\r\n      } ).sort( ( a, b ) => a.name > b.name ? 1 : -1 )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    isDisabled( _id ) {\r\n      return this.disabledUsers.indexOf( _id ) > -1\r\n    },\r\n    hasWritePermission( _id ) {\r\n      return this.canWrite.indexOf( _id ) > -1\r\n    },\r\n    changePermission( _id ) {\r\n      let localCanWrite = [ ],\r\n        localCanRead = [ ]\r\n\r\n      // check in which perm cat the user is right now\r\n      let index = this.canWrite.indexOf( _id )\r\n\r\n      // canWrite -> canRead\r\n      if ( index > -1 ) {\r\n        localCanWrite = this.canWrite.filter( uId => uId !== _id )\r\n        localCanRead = uniq( [ ...this.canRead, _id ] )\r\n        // this.$emit('move-user')\r\n        // TODO: this.$emit('move-user', { userId:x, from:'W->R' }) // for projects\r\n        // canRead -> canWrite\r\n      } else {\r\n        localCanRead = this.canRead.filter( uId => uId !== _id )\r\n        localCanWrite = uniq( [ ...this.canWrite, _id ] )\r\n        // TODO: this.$emit('move-user', { userId:x, from:'R->W' }) // for projects\r\n      }\r\n\r\n      // emit one global event\r\n      this.$emit( 'update-table', { canRead: localCanRead, canWrite: localCanWrite } )\r\n    },\r\n    removeUser( _id ) {\r\n      let localCanWrite = this.canWrite.filter( uId => uId !== _id )\r\n      let localCanRead = this.canRead.filter( uId => uId !== _id )\r\n      this.$emit( 'remove-user', { userId: _id } )\r\n      this.$emit( 'update-table', { canRead: localCanRead, canWrite: localCanWrite } )\r\n    }\r\n  },\r\n  mounted( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.user {\r\n  padding: 2px 10px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionTable.vue?vue&type=template&id=7b4727af&scoped=true&\"\nimport script from \"./PermissionTable.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionTable.vue?vue&type=style&index=0&id=7b4727af&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b4727af\",\n  null\n  \n)\n\ncomponent.options.__file = \"PermissionTable.vue\"\nexport default component.exports","<template>\r\n  <v-card class='elevation-0'>\r\n    <v-toolbar class='elevation-0 transparent'>\r\n      <v-icon small left>share</v-icon>&nbsp;\r\n      <span class='title font-weight-light'>Link Sharing</span> &nbsp;\r\n    </v-toolbar>\r\n    <v-divider></v-divider>\r\n    <v-card-text class='mx-2'>\r\n      <v-btn depressed color='primary' @click.native='changeLinkSharing' :disabled='!canEdit'>{{stream.private ? \"OFF\" : \"ON\"}}</v-btn>\r\n      {{ stream.private ? \"Private resource. Only people with read or write persmissions can access it.\" : \"Public resource. Anyone with the id can access it.\"}}\r\n      <span class='' v-if='isOwner'>\r\n        You are the <strong>owner</strong> of this stream.\r\n      </span>\r\n      <span class='' v-else>\r\n        This stream was shared with you by <strong>{{streamOwner}}.</strong>\r\n      </span>\r\n    </v-card-text>\r\n    <!-- <v-divider></v-divider> -->\r\n    <v-toolbar class='elevation-0 transparent title font-weight-light'>\r\n      <v-icon small left>supervisor_account</v-icon>&nbsp;\r\n      <span class='title font-weight-light'>User Permissions</span> &nbsp;\r\n    </v-toolbar>\r\n    <v-card-text class='mx-2' v-if='streamProjects.length>0'>\r\n      <span>Some users might be disabled as their permissions are set through the following projects: <router-link v-for='(proj, index) in streamProjects' :to='\"/projects/\"+proj._id' :key='proj._id'>{{proj.name}}<span v-if='index<streamProjects.length-1'>, </span></router-link></span>\r\n    </v-card-text>\r\n    <v-card-text class='mx-2' v-if='!canEdit'>\r\n      You cannot edit the permissions of this stream.\r\n    </v-card-text>\r\n    <v-divider></v-divider>\r\n    <v-card-text class='' v-if='canEdit'>\r\n      <user-search v-on:selected-user='addUserToWrite'></user-search>\r\n      <permission-table :resource='stream' :disabled-users='usersFromProjects' :global-disabled='!canEdit' v-on:update-table='updatePerms'></permission-table>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport uniq from 'lodash.uniq'\r\nimport Axios from 'axios'\r\n\r\nimport UserSearch from './UserSearch.vue'\r\nimport PermissionTable from './PermissionTable.vue'\r\n\r\nexport default {\r\n  name: 'StreamDetailUserPerms',\r\n  components: {\r\n    UserSearch,\r\n    PermissionTable\r\n  },\r\n  props: {\r\n    stream: Object\r\n  },\r\n  computed: {\r\n    streamOwner( ) {\r\n      if ( this.isOwner ) return `${this.$store.state.user.name} ${this.$store.state.user.surname}`\r\n      let owner = this.$store.state.users.find( user => user._id === this.stream.owner )\r\n      if ( !owner ) return '(loading)'\r\n      return `${owner.name} ${owner.surname} ${owner.company ? \"(\" + owner.company + \")\" : ''}`\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.stream.owner === this.$store.state.user._id\r\n    },\r\n    usersFromProjects( ) {\r\n      let otherProjects = this.$store.state.projects.filter( p => p.streams.indexOf( this.stream.streamId ) !== -1 )\r\n      let otherCanRead = Array.prototype.concat( ...otherProjects.map( op => op.permissions.canRead ) )\r\n      let otherCanWrite = Array.prototype.concat( ...otherProjects.map( op => op.permissions.canWrite ) )\r\n      return [ ...new Set( [ ...otherCanWrite, ...otherCanRead ] ) ]\r\n    },\r\n    streamProjects( ) {\r\n      return this.$store.state.projects.filter( p => p.streams.indexOf( this.stream.streamId ) !== -1 )\r\n    }\r\n\r\n  },\r\n  data( ) {\r\n    return {\r\n      userSearch: '',\r\n      foundUsers: [ ],\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  methods: {\r\n    changeLinkSharing( ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, private: !this.stream.private } )\r\n    },\r\n    addUserToWrite( userId ) {\r\n      let canWrite = uniq( [ ...this.stream.canWrite, userId ] )\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, canWrite: canWrite } )\r\n    },\r\n    updatePerms( { canRead, canWrite } ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, canRead: canRead, canWrite: canWrite } )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamDetailUserPerms.vue?vue&type=template&id=93f72e02&scoped=true&\"\nimport script from \"./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamDetailUserPerms.vue?vue&type=style&index=0&id=93f72e02&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93f72e02\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamDetailUserPerms.vue\"\nexport default component.exports"],"sourceRoot":""}