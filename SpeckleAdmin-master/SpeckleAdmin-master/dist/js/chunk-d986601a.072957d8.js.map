{"version":3,"sources":["webpack:///./src/views/Streams.vue?9f8b","webpack:///./src/components/StreamCard.vue?0422","webpack:///./src/views/Streams.vue?c67a","webpack:///./src/components/StreamCard.vue?a100","webpack:///src/components/StreamCard.vue","webpack:///./src/components/StreamCard.vue?dad4","webpack:///./src/components/StreamCard.vue","webpack:///src/views/Streams.vue","webpack:///./src/views/Streams.vue?d036","webpack:///./src/views/Streams.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Streams_vue_vue_type_style_index_0_id_2180ff90_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Streams_vue_vue_type_style_index_0_id_2180ff90_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamCard_vue_vue_type_style_index_0_id_5fea8438_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamCard_vue_vue_type_style_index_0_id_5fea8438_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","grid-list-xl","selectedStreams","length","staticStyle","z-index","fixed","staticClass","icon","color","nativeOn","click","$event","clearSelection","_v","flat","selectAll","deleteStreams","togglePermissions","_s","defaultPermission","createProjectFromSelection","_e","row","wrap","xs12","py-5","streams","to","solo","clearable","hint","searchHint","label","prepend-inner-icon","spellcheck","loading","isSearching","append-icon","on","input","updateSearch","click:append","$store","dispatch","model","value","callback","$$v","searchfilter","expression","filteredStreams","small","disabled","pageNumber","Math","round","sliceSize","xxxstyle","toFixed","_l","stream","key","_id","sm6","selected","selectThis","deleted","dark","large","bottom","right","fab","createStream","staticRenderFns","StreamCardvue_type_template_id_5fea8438_scoped_true_render","class","stream-card","elevation-10","elevation-1","$router","push","name","ma-2","user-select","streamId","datetime","updatedAt","createdAt","private","allUsers","children","tags","tag","outline","domProps","innerHTML","compiledDescription","owner","directives","rawName","depressed","deleteStream","StreamCardvue_type_template_id_5fea8438_scoped_true_staticRenderFns","StreamCardvue_type_script_lang_js_","props","Object","watch","$emit","computed","date","Date","toLocaleString","year","month","day","marked_default","description","substring","sanitize","canEdit","isOwner","canWrite","indexOf","state","user","lodash_union_default","canRead","_this","u","users","find","surname","includes","concat","data","methods","updateTags","lodash_debounce_default","e","mounted","_this2","bus","$on","components_StreamCardvue_type_script_lang_js_","component","componentNormalizer","options","__file","StreamCard","Streamsvue_type_script_lang_js_","components","filter","parent","sort","a","b","getters","filters","paginatedStreams","slice","currentIndex","priv","pub","forEach","s","onlineEditable","then","res","catch","err","console","error","map","_this3","_this4","split","t","_unused","_this5","index","findIndex","unshift","splice","checkSelection","created","views_Streamsvue_type_script_lang_js_","Streams_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-d986601a.072957d8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=style&index=0&id=2180ff90&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=style&index=0&id=2180ff90&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=style&index=0&id=5fea8438&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=style&index=0&id=5fea8438&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-xl\":\"\"}},[(_vm.selectedStreams.length > 0)?_c('v-toolbar',{staticStyle:{\"z-index\":\"100\"},attrs:{\"fixed\":\"\"}},[_c('v-toolbar-items',[_c('v-btn',{staticClass:\"md-raised md-dense md-primary\",attrs:{\"icon\":\"\",\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.clearSelection($event)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectAll()}}},[_vm._v(\"select all\")])],1),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"error\"},nativeOn:{\"click\":function($event){return _vm.deleteStreams($event)}}},[_vm._v(\"Archive\")]),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.togglePermissions($event)}}},[_vm._v(\"Make \"+_vm._s(_vm.defaultPermission))]),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.createProjectFromSelection($event)}}},[_vm._v(\"Create Project\")])],1)],1):_vm._e(),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"headline font-weight-light\",attrs:{\"xs12\":\"\",\"py-5\":\"\"}},[_vm._v(\"\\n      Streams are the channels your design data flows into.\\n    \")]),(_vm.streams.length === 0)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('p',{staticClass:\"title font-weight-light\"},[_vm._v(\"Hmm, you don't have any streams yet. Don't worry! You can create a new one here (big blue button in the lower right corner) or through \"),_c('router-link',{attrs:{\"to\":\"/plugins\"}},[_vm._v(\"existing CAD integrations.\")])],1)]):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"solo\":\"\",\"clearable\":\"\",\"hint\":_vm.searchHint,\"label\":\"Search for a stream\",\"prepend-inner-icon\":\"search\",\"spellcheck\":\"false\",\"loading\":_vm.isSearching,\"append-icon\":\"refresh\"},on:{\"input\":_vm.updateSearch,\"click:append\":function($event){return _vm.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )}},model:{value:(_vm.searchfilter),callback:function ($$v) {_vm.searchfilter=$$v},expression:\"searchfilter\"}}),(_vm.searchfilter && _vm.searchfilter!==\"\")?_c('div',[_c('p',{staticClass:\"title font-weight-light my-3 mx-1\"},[_vm._v(\"Found \"+_vm._s(_vm.filteredStreams.length)+\" streams matching your search criteria.\")])]):_vm._e()],1)],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber=0}}},[_c('v-icon',[_vm._v(\"first_page\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber-=1}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber+=1}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber=Math.round(_vm.filteredStreams.length/_vm.sliceSize)}}},[_c('v-icon',[_vm._v(\"last_page\")])],1),_c('span',{staticClass:\"caption\",attrs:{\"xxxstyle\":\"position: relative;top:8px;\"}},[_vm._v(_vm._s(_vm.pageNumber)+\" / \"+_vm._s((_vm.filteredStreams.length/_vm.sliceSize).toFixed(0)))])],1),_vm._l((_vm.paginatedStreams),function(stream){return _c('v-flex',{key:stream._id,attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('stream-card',{attrs:{\"stream\":stream},on:{\"selected\":_vm.selectThis,\"deleted\":_vm.clearSelection}})],1)}),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber=0}}},[_c('v-icon',[_vm._v(\"first_page\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber-=1}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber+=1}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber=Math.round(_vm.filteredStreams.length/_vm.sliceSize)}}},[_c('v-icon',[_vm._v(\"last_page\")])],1),_c('span',{staticClass:\"caption\",attrs:{\"xxxstyle\":\"position: relative;top:8px;\"}},[_vm._v(_vm._s(_vm.pageNumber)+\" / \"+_vm._s((_vm.filteredStreams.length/_vm.sliceSize).toFixed(0)))])],1)],2),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"fixed\":\"\",\"large\":\"\",\"bottom\":\"\",\"right\":\"\",\"fab\":\"\"},nativeOn:{\"click\":function($event){return _vm.createStream($event)}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{class:{'stream-card':true, 'elevation-10':_vm.selected, 'elevation-1': true}},[_c('v-card-title',[_c('v-btn',{attrs:{\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.$router.push((\"/view/\" + (_vm.stream.streamId)))}}},[_c('v-icon',[_vm._v(\"360\")])],1),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(_vm._s(_vm.stream.name ? _vm.stream.name : \"Stream Has No Name\"))]),_c('v-spacer'),_c('span'),_c('span',[_c('v-checkbox',{attrs:{\"color\":\"primary\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1),_c('v-divider',{staticClass:\"mx-0 my-0\"}),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"caption\",attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fingerprint\")]),_vm._v(\" \"),_c('strong',{staticStyle:{\"user-select\":\"all\"}},[_vm._v(_vm._s(_vm.stream.streamId))]),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"edit\")]),_vm._v(\" \"),_c('timeago',{attrs:{\"datetime\":_vm.stream.updatedAt}}),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"access_time\")]),_vm._v(\"  \"+_vm._s(_vm.createdAt)+\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.stream.private ? \"lock\" : \"lock_open\"))]),_vm._v(\" link sharing \"+_vm._s(_vm.stream.private ? \"off\" : \"on\")+\"  \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"person_outline\")]),_vm._v(\" \"+_vm._s(_vm.allUsers.length)+\"  \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"history\")]),_vm._v(\" \"+_vm._s(_vm.stream.children.length)+\"  \\n    \")],1),(_vm.stream.tags.length > 0)?_c('v-flex',{attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},_vm._l((_vm.stream.tags),function(tag){return _c('v-chip',{key:tag,attrs:{\"small\":\"\",\"outline\":\"\"}},[_vm._v(_vm._s(tag))])}),1):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},[_c('div',{staticClass:\"md-caption md-small-hide\",domProps:{\"innerHTML\":_vm._s(_vm.compiledDescription)}})])],1),_c('v-card-actions',[_c('span',{staticClass:\"caption font-weight-light\"},[_vm._v(\"Owned by \"+_vm._s(_vm.owner))]),_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],staticClass:\"transparent\",attrs:{\"depressed\":\"\"},nativeOn:{\"click\":function($event){return _vm.deleteStream($event)}}},[_vm._v(\"Archive\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"to\":\"/streams/\"+_vm.stream.streamId}},[_vm._v(\"Details\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card :class=\"{'stream-card':true, 'elevation-10':selected, 'elevation-1': true}\">\r\n    <v-card-title>\r\n      <v-btn icon @click.native='$router.push(`/view/${stream.streamId}`)'>\r\n        <v-icon>360</v-icon>\r\n      </v-btn>\r\n      <span class='title font-weight-light'>{{stream.name ? stream.name : \"Stream Has No Name\"}}</span>\r\n      <v-spacer></v-spacer>\r\n      <span></span>\r\n      <span>\r\n        <v-checkbox color='primary' v-model=\"selected\"></v-checkbox>\r\n      </span>\r\n    </v-card-title>\r\n    <v-divider class='mx-0 my-0'></v-divider>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 class='caption' ma-2>\r\n        <v-icon small>fingerprint</v-icon>&nbsp<strong style=\"user-select:all\">{{stream.streamId}}</strong>&nbsp\r\n        <v-icon small>edit</v-icon>&nbsp<timeago :datetime='stream.updatedAt'></timeago>&nbsp\r\n        <v-icon small>access_time</v-icon>&nbsp {{createdAt}}&nbsp\r\n        <v-icon small>{{stream.private ? \"lock\" : \"lock_open\"}}</v-icon> link sharing {{stream.private ? \"off\" : \"on\" }} &nbsp\r\n        <v-icon small>person_outline</v-icon> {{ allUsers.length }} &nbsp\r\n        <v-icon small>history</v-icon> {{ stream.children.length }} &nbsp\r\n      </v-flex>\r\n      <v-flex xs12 ma-2 v-if='stream.tags.length > 0'>\r\n        <v-chip small outline v-for='tag in stream.tags' :key='tag'>{{tag}}</v-chip>\r\n      </v-flex>\r\n      <v-flex xs12 ma-2>\r\n        <div class=\"md-caption md-small-hide\" v-html='compiledDescription'> </div>\r\n      </v-flex>\r\n    </v-layout>\r\n    <v-card-actions>\r\n      <span class='caption font-weight-light'>Owned by {{owner}}</span>\r\n      <v-spacer></v-spacer>\r\n      <v-btn depressed class='transparent' @click.native='deleteStream' v-show='isOwner'>Archive</v-btn>\r\n      <v-btn color='primary' :to='\"/streams/\"+stream.streamId'>Details</v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport debounce from 'lodash.debounce'\r\nimport marked from 'marked'\r\n\r\nexport default {\r\n  name: 'StreamCard',\r\n  props: {\r\n    stream: Object\r\n  },\r\n  watch: {\r\n    selected( ) { this.$emit( \"selected\", this.stream ) }\r\n  },\r\n  computed: {\r\n    createdAt( ) {\r\n      let date = new Date( this.stream.createdAt )\r\n      return date.toLocaleString( 'en', { year: 'numeric', month: 'long', day: 'numeric' } )\r\n    },\r\n    compiledDescription( ) {\r\n      return marked( this.stream.description.substring( 0, 220 ) + ' ...', { sanitize: true } )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.stream.owner === this.$store.state.user._id\r\n    },\r\n    allUsers( ) {\r\n      return union( this.stream.canRead, this.stream.canWrite )\r\n    },\r\n    owner( ) {\r\n      let u = this.$store.state.users.find( user => user._id === this.stream.owner )\r\n      if ( !u ) {\r\n        this.$store.dispatch( 'getUser', { _id: this.stream.owner } )\r\n      }\r\n      return u ? u.surname.includes( \"is you\" ) ? `you` : `${u.name} ${u.surname}` : 'Loading'\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      selected: false,\r\n    }\r\n  },\r\n  methods: {\r\n    deleteStream( ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, deleted: true } )\r\n      this.$emit( 'deleted' )\r\n    },\r\n    updateTags: debounce( function ( e ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, tags: this.stream.tags } )\r\n    }, 1000 )\r\n  },\r\n  mounted( ) {\r\n    bus.$on( 'select-stream', ( streamId ) => {\r\n      if ( this.stream.streamId === streamId ) this.selected = true\r\n    } )\r\n    bus.$on( 'unselect-all', ( ) => {\r\n      this.selected = false\r\n    } )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n/*.stream-chips:after {\r\n  display: none !important;\r\n}\r\n\r\n.stream-chips:before {\r\n  display: none !important;\r\n}\r\n\r\n.md-card-actions,\r\n.md-card-header {\r\n  background: ghostwhite;\r\n}\r\n\r\n.md-card-header {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stream-chips {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.stream-chips input {\r\n  font-size: 10px;\r\n}*/\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamCard.vue?vue&type=template&id=5fea8438&scoped=true&\"\nimport script from \"./StreamCard.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamCard.vue?vue&type=style&index=0&id=5fea8438&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fea8438\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamCard.vue\"\nexport default component.exports","<template>\r\n  <v-container grid-list-xl>\r\n    <!-- Toolbar for stream selection/bulk operations -->\r\n    <v-toolbar fixed v-if='selectedStreams.length > 0' style='z-index:100'>\r\n      <v-toolbar-items>\r\n        <v-btn icon color='primary' class='md-raised md-dense md-primary' @click.native='clearSelection'>\r\n          <v-icon>close</v-icon>\r\n        </v-btn>\r\n        <v-btn flat @click.native='selectAll()'>select all</v-btn>\r\n      </v-toolbar-items>\r\n      <v-spacer></v-spacer>\r\n      <v-toolbar-items>\r\n        <v-btn flat color='error' @click.native='deleteStreams'>Archive</v-btn>\r\n        <v-btn flat @click.native='togglePermissions'>Make {{defaultPermission}}</v-btn>\r\n        <v-btn flat @click.native='createProjectFromSelection'>Create Project</v-btn>\r\n      </v-toolbar-items>\r\n    </v-toolbar>\r\n    <!-- End toolbar -->\r\n    <v-layout row wrap>\r\n      <v-flex xs12 py-5 class='headline font-weight-light'>\r\n        Streams are the channels your design data flows into.\r\n      </v-flex>\r\n      <!-- Empty state handler -->\r\n      <v-flex xs12 v-if='streams.length === 0'>\r\n        <p class='title font-weight-light'>Hmm, you don't have any streams yet. Don't worry! You can create a new one here (big blue button in the lower right corner) or through <router-link to='/plugins'>existing CAD integrations.</router-link>\r\n        </p>\r\n      </v-flex>\r\n      <v-flex xs12>\r\n        <v-text-field solo clearable :hint='searchHint' label=\"Search for a stream\" prepend-inner-icon=\"search\" @input=\"updateSearch\" spellcheck=\"false\" v-model='searchfilter' :loading='isSearching' append-icon=\"refresh\" @click:append=\"$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\"></v-text-field>\r\n        <div v-if='searchfilter && searchfilter!==\"\"'>\r\n          <p class='title font-weight-light my-3 mx-1'>Found {{filteredStreams.length}} streams matching your search criteria.</p>\r\n        </div>\r\n      </v-flex>\r\n    </v-layout>\r\n    <!-- All the stream cards will flow below -->\r\n    <v-layout row wrap>\r\n      <!-- Pagination top (TODO: extract to component) -->\r\n      <v-flex xs12>\r\n        <v-btn icon small @click.native='pageNumber=0' :disabled='pageNumber===0'>\r\n          <v-icon>first_page</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber-=1' :disabled='pageNumber===0'>\r\n          <v-icon>chevron_left</v-icon>\r\n        </v-btn>\r\n        <v-btn icon @click.native='pageNumber+=1' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>chevron_right</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber=Math.round(filteredStreams.length/sliceSize)' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>last_page</v-icon>\r\n        </v-btn>\r\n        <span class='caption' xxxstyle=\"position: relative;top:8px;\">{{pageNumber}} / {{(filteredStreams.length/sliceSize).toFixed(0)}}</span>\r\n      </v-flex>\r\n      <!-- The actual stream cards -->\r\n      <v-flex xs12 sm6 v-for='stream in paginatedStreams' :key='stream._id'>\r\n        <stream-card :stream='stream' v-on:selected='selectThis' v-on:deleted='clearSelection'></stream-card>\r\n      </v-flex>\r\n      <!-- Pagination bottom  -->\r\n      <v-flex xs12>\r\n        <v-btn icon small @click.native='pageNumber=0' :disabled='pageNumber===0'>\r\n          <v-icon>first_page</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber-=1' :disabled='pageNumber===0'>\r\n          <v-icon>chevron_left</v-icon>\r\n        </v-btn>\r\n        <v-btn icon @click.native='pageNumber+=1' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>chevron_right</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber=Math.round(filteredStreams.length/sliceSize)' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>last_page</v-icon>\r\n        </v-btn>\r\n        <span class='caption' xxxstyle=\"position: relative;top:8px;\">{{pageNumber}} / {{(filteredStreams.length/sliceSize).toFixed(0)}}</span>\r\n      </v-flex>\r\n    </v-layout>\r\n    <!-- Big fat fab button to create a new stream -->\r\n    <v-btn color=\"primary\" dark fixed large bottom right fab @click.native='createStream'>\r\n      <v-icon>add</v-icon>\r\n    </v-btn>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport StreamCard from '../components/StreamCard.vue'\r\n\r\nexport default {\r\n  name: 'StreamsView',\r\n  components: { StreamCard },\r\n  computed: {\r\n    streams( ) {\r\n      return this.$store.state.streams.filter( stream => stream.parent == null && stream.deleted === false ).sort( ( a, b ) => {\r\n        return new Date( b.updatedAt ) - new Date( a.updatedAt );\r\n      } )\r\n    },\r\n    filteredStreams( ) {\r\n      return this.$store.getters.filteredStreams( this.filters )\r\n    },\r\n    paginatedStreams( ) {\r\n      // return this.filteredStreams.slice( this.startIndex, this.endIndex )\r\n      return this.filteredStreams.slice( this.currentIndex + this.pageNumber * this.sliceSize, this.sliceSize * ( this.pageNumber + 1 ) )\r\n    },\r\n  },\r\n  data( ) {\r\n    return {\r\n      currentIndex: 0,\r\n      sliceSize: 6,\r\n      pageNumber: 0,\r\n      selectedStreams: [ ],\r\n      searchfilter: '',\r\n      filters: [ ],\r\n      defaultPermission: 'private',\r\n      isSearching: false,\r\n      searchHint: `You can restrict your search to the stream's id by prepending id:{your stream id}, similarly for name, tags etc.`\r\n    }\r\n  },\r\n  watch: {\r\n    searchfilter( ) {\r\n      this.isSearching = true\r\n    },\r\n    selectedStreams( ) {\r\n      let priv = 0,\r\n        pub = 0\r\n      this.selectedStreams.forEach( s => {\r\n        if ( s.private ) priv++\r\n        else pub++\r\n      } )\r\n      this.defaultPermission = priv > pub ? 'public' : 'private'\r\n    }\r\n  },\r\n  methods: {\r\n    createStream( ) {\r\n      this.$store.dispatch( 'createStream', { name: 'A New Speckle Stream', onlineEditable: true } )\r\n        .then( res => {\r\n          this.$router.push( `/streams/${res.streamId}` )\r\n        } )\r\n        .catch( err => {\r\n          console.error( err )\r\n        } )\r\n    },\r\n    createProjectFromSelection( ) {\r\n      this.$store.dispatch( 'createProject', { name: 'Speckle Project', streams: this.selectedStreams.map( s => s.streamId ) } )\r\n        .then( res => {\r\n          this.clearSelection( )\r\n          this.$router.push( `/projects/${res._id}` )\r\n        } )\r\n    },\r\n    togglePermissions( ) {\r\n      this.selectedStreams.forEach( stream => {\r\n        this.$store.dispatch( 'updateStream', { streamId: stream.streamId, private: this.defaultPermission === 'private' ? true : false } )\r\n      } )\r\n      this.defaultPermission = this.defaultPermission === 'private' ? 'public' : 'private'\r\n    },\r\n    deleteStreams( ) {\r\n      this.selectedStreams.forEach( stream => {\r\n        this.$store.dispatch( 'updateStream', { streamId: stream.streamId, deleted: true } )\r\n      } )\r\n      this.clearSelection( )\r\n    },\r\n    updateSearch: debounce( function( e ) {\r\n      this.pageNumber = 0\r\n      this.isSearching = false\r\n      this.searchfilter = e\r\n      try {\r\n        let filters = this.searchfilter.split( ' ' ).map( t => {\r\n          if ( t.includes( ':' ) )\r\n            return { key: t.split( ':' )[ 0 ], value: t.split( ':' )[ 1 ] }\r\n          else if ( !t.includes( 'public' ) && !t.includes( 'private' ) && !t.includes( 'mine' ) && !t.includes( 'shared' ) ) // TODO: not elegant\r\n            return { key: 'name', value: t }\r\n          else\r\n            return { key: t, value: null }\r\n        } )\r\n        this.filters = filters\r\n      } catch {\r\n        this.filters = [ { key: 'name', value: e } ]\r\n      }\r\n    }, 1000 ),\r\n    selectAll( ) {\r\n      this.paginatedStreams.forEach( stream => {\r\n        let index = this.selectedStreams.findIndex( s => s.streamId === stream.streamId )\r\n        if ( index === -1 ) {\r\n          bus.$emit( 'select-stream', stream.streamId )\r\n        }\r\n      } )\r\n    },\r\n    selectThis( stream ) {\r\n      let index = this.selectedStreams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index === -1 )\r\n        this.selectedStreams.unshift( stream )\r\n      else\r\n        this.selectedStreams.splice( index, 1 )\r\n    },\r\n    clearSelection( ) {\r\n      this.defaultPermission = 'private'\r\n      bus.$emit( 'unselect-all' )\r\n    },\r\n    checkSelection( ) {\r\n      this.selectedStreams = this.selectedStreams.filter( s => !s.deleted )\r\n    }\r\n  },\r\n  created( ) {\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Streams.vue?vue&type=template&id=2180ff90&scoped=true&\"\nimport script from \"./Streams.vue?vue&type=script&lang=js&\"\nexport * from \"./Streams.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Streams.vue?vue&type=style&index=0&id=2180ff90&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2180ff90\",\n  null\n  \n)\n\ncomponent.options.__file = \"Streams.vue\"\nexport default component.exports"],"sourceRoot":""}